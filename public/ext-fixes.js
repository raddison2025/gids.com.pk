!function(){var t=navigator.userAgent.toLowerCase(),e=function(e){return e.test(t)};Ext.isFF3=Ext.isGecko&&-1!=t.indexOf("firefox/3."),Ext.isIE11=Ext.isGecko&&-1!=t.indexOf("trident/")&&e(/rv:[1-9][0-9]\./),Ext.isEdge="Netscape"===navigator.appName&&-1!==t.indexOf("edge/"),Ext.isGecko10plus=!Ext.isIE11&&Ext.isGecko&&e(/rv:[1-9][0-9]\./),Ext.isMSEdge=!Ext.isIE11&&Ext.isChrome&&-1!=t.indexOf("edge/")&&12<=t.split("edge/").pop().split(".").shift()<=14,Ext.isOldMacSafari=!Ext.isChrome&&Ext.isSafari&&Ext.isMac&&t.split("version/").pop().split("safari").shift().split(".").shift()<7,Ext.isOldIE=(Ext.isIE||Ext.isIE11)&&!Ext.isEdge,Ext.isOldFF=Ext.isGecko&&t.split("firefox/").pop().split(".").shift()<30,Ext.isOldChrome=Ext.isChrome&&t.split("chrome/").pop().split("safari/").shift().split(".").shift()<35,Ext.isOldBrowser=Ext.isOldMacSafari||Ext.isOldIE||Ext.isOldFF||Ext.isOldChrome}(),(Ext.isIE||Ext.isIE11)&&(Ext.SSL_SECURE_URL=""),Ext.apply(Ext.form.VTypes,{email:function(t){var e="[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\_\\`\\.\\{\\|\\}\\~]+",i=e+"([\\.]"+e+")*",s=new RegExp("^"+i+"@(\\w[-\\w]*\\.){1,5}([A-Za-z]){2,}$"),a=new RegExp("^"+i+"@\\w[-\\w]*$");return s.test(t)||a.test(t)}}),Ext.apply(Ext.form.VTypes,{Numeric:function(t){return/^[0-9]+$/.test(t)}}),Ext.override(Ext.Element,{getHeight:function(t){var e=Math.ceil(this.dom.getBoundingClientRect().height)||0;return e=!0!==t?e:e-this.getBorderWidth("tb")-this.getPadding("tb"),e<0?0:e},getWidth:function(t){var e=Math.ceil(this.dom.getBoundingClientRect().width)||0;return e=!0!==t?e:e-this.getBorderWidth("lr")-this.getPadding("lr"),e<0?0:e}}),Ext.override(Ext.layout.BorderLayout.SplitRegion,{_onSplitMove:Ext.layout.BorderLayout.SplitRegion.prototype.onSplitMove,onSplitMove:function(t,e){var i=Axi.CalendarView&&$VIEW instanceof Axi.CalendarView,s=$VIEW==$APP.getViewMgr().getMainView();if(s&&!i)try{$VIEW.getGrid().getStore().removeAll()}catch(t){console.error("$VIEW.getGrid().getStore().removeAll() FAILED.")}if(Bench.reset(),Bench.timer("EXT BorderLayout onSplitMove "+this.position),Axi._splitMoved=!0,this._onSplitMove.apply(this,arguments),Axi._splitMoved=!1,console.log("BENCH","EXT BorderLayout onSplitMove "+this.position,Bench.timer("EXT BorderLayout onSplitMove "+this.position)),s)if(i)$VIEW.refresh();else try{$VIEW.getGrid().reload()}catch(t){console.error("$VIEW.getGrid().reload() FAILED.")}return!1},applyFns:{west:function(t){if(this.isCollapsed)return this.applyLayoutCollapsed(t);var e=this.splitEl.dom,i=e.style;this.panel.setPosition(t.x,t.y);var s=Math.ceil(e.getBoundingClientRect().width);i.left=t.x+t.width-s+"px",i.top=t.y+"px",i.height=Math.max(0,t.height)+"px",this.panel.setSize(t.width-s,t.height)},east:function(t){if(this.isCollapsed)return this.applyLayoutCollapsed(t);var e=this.splitEl.dom,i=e.style,s=Math.ceil(e.getBoundingClientRect().width);this.panel.setPosition(t.x+s,t.y),i.left=t.x+"px",i.top=t.y+"px",i.height=Math.max(0,t.height)+"px",this.panel.setSize(t.width-s,t.height)},north:function(t){if(this.isCollapsed)return this.applyLayoutCollapsed(t);var e=this.splitEl.dom,i=e.style,s=Math.ceil(e.getBoundingClientRect().height);this.panel.setPosition(t.x,t.y),i.left=t.x+"px",i.top=t.y+t.height-s+"px",i.width=Math.max(0,t.width)+"px",this.panel.setSize(t.width,t.height-s)},south:function(t){if(this.isCollapsed)return this.applyLayoutCollapsed(t);var e=this.splitEl.dom,i=e.style,s=Math.ceil(e.getBoundingClientRect().height);this.panel.setPosition(t.x,t.y+s),i.left=t.x+"px",i.top=t.y+"px",i.width=Math.max(0,t.width)+"px",this.panel.setSize(t.width,t.height-s)}},getSize:function(){if(this.isCollapsed)return this.collapsedEl.getSize();var t=this.panel.getSize();return"north"==this.position||"south"==this.position?t.height+=Math.ceil(this.splitEl.dom.getBoundingClientRect().height):t.width+=Math.ceil(this.splitEl.dom.getBoundingClientRect().width),t}}),Ext.onReady(function(){var t=window.onresize||Ext.emptyFn;window.onresize=function(){var e,i=!1;"undefined"!=typeof $VIEW&&(i=$VIEW==$APP.getViewMgr().getMainView()),"undefined"!=typeof $VIEW&&$VIEW.getGrid&&(e=$VIEW.getGrid()),i&&e&&e.getStore().removeAll(),t(),i&&e&&e.reload()}}),Date._parseDate=Date.parseDate,Date.parseDate=function(t,e,i){return t&&(t=t.replace(/ +/g," ")),Date._parseDate(t,e,i)},Ext.override(Ext.tree.TreeNodeUI,{ecClick:function(t){!this.animating&&this.node.isExpandable()&&this.node.toggle(),this.fireEvent("iconClick",this.node,t)}}),Ext.override(Ext.tree.TreeEventModel,{initEvents:function(){var t=this.tree.getTreeEl();t.on("click",this.delegateClick,this),!1!==this.tree.trackMouseOver&&(t.on("mouseover",this.delegateOver,this),t.on("mouseout",this.delegateOut,this)),t.on("dblclick",this.delegateDblClick,this),t.on("contextmenu",this.delegateContextMenu,this),t.on("mousedown",this.delegateMouseDown,this),t.on("mouseup",this.delegateMouseUp,this)},delegateMouseDown:function(t,e){if(this.disabled){var i=this.getNode(t);t.getTarget("input[type=checkbox]",1)?i.ui.fireEvent("checkboxMouseDown",i,t):t.getTarget(".x-tree-ec-icon",1)?i.ui.fireEvent("iconMouseDown",i,t):this.getNodeTarget(t)&&i.ui.fireEvent("nodeMouseDown",i,t)}},delegateMouseUp:function(t,e){if(this.disabled){var i=this.getNode(t);t.getTarget("input[type=checkbox]",1)?i.ui.fireEvent("checkboxMouseUp",i,t):t.getTarget(".x-tree-ec-icon",1)?i.ui.fireEvent("iconMouseUp",i,t):this.getNodeTarget(t)&&i.ui.fireEvent("nodeMouseUp",i,t)}}}),Ext.override(Ext.ToolTip,{frame:!1,onTargetOver:function(t){this.target&&(this.disabled||t.within(this.target.dom,!0)||(this.clearTimer("hide"),this.targetXY=t.getXY(),this.delayShow()))},onTargetOut:function(t){this.target&&(this.disabled||t.within(this.target.dom,!0)||(this.clearTimer("show"),!1!==this.autoHide&&this.delayHide()))}}),Ext.override(Ext.KeyNav,{isKeyDown:function(){return this.forceKeyDown||Ext.isIE||Ext.isIE11||Ext.isGecko10plus||Ext.isWebKit&&!Ext.isSafari2||Ext.isAir}}),Ext.override(Ext.form.Field,{initEvents:function(){this.el.on(Ext.isIE||Ext.isGecko||Ext.isIE11||Ext.isWebKit&&!Ext.isSafari2?"keydown":"keypress",this.fireKey,this),this.el.on("focus",this.onFocus,this);var t=this.inEditor&&Ext.isWindows&&Ext.isGecko?{buffer:10}:null;this.el.on("blur",this.onBlur,this,t)}}),Ext.override(Ext.form.ComboBox,{onRender:function(t,e){Ext.form.ComboBox.superclass.onRender.call(this,t,e),this.hiddenName&&(this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:this.hiddenId||this.hiddenName},"before",!0),this.el.dom.removeAttribute("name")),Ext.isGecko&&this.el.dom.setAttribute("autocomplete","off"),this.lazyInit?this.on("focus",this.initList,this,{single:!0}):this.initList(),this.editable||(this.editable=!0,this.setEditable(!1)),this.el.on("mouseup",this.onTriggerClick,this)},setEditable:function(t){t!=this.editable&&(this.editable=t,t?(this.el.dom.removeAttribute("readOnly"),this.el.removeClass("x-combo-noedit")):(this.el.dom.setAttribute("readOnly",!0),this.el.addClass("x-combo-noedit")))}}),Ext.override(Ext.form.TriggerField,{onRender:function(t,e){Ext.form.TriggerField.superclass.onRender.call(this,t,e),this.wrap=this.el.wrap({cls:"x-form-field-wrap"}),this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"div",cls:"x-form-trigger "+this.triggerClass}),this.hideTrigger&&this.trigger.setDisplayed(!1),this.initTrigger(),this.width||this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this),this.mimicing||(this.wrap.addClass("x-trigger-wrap-focus"),this.mimicing=!0,Ext.get(Ext.isIE&&!Ext.isIE8?document.body:document).on("mousedown",this.mimicBlur,this,{delay:10}),this.monitorTab&&this.el.on("keydown",this.checkTab,this))},onDestroy:function(){this.trigger&&(this.trigger.removeAllListeners(),this.trigger.remove()),this.wrap&&this.wrap.remove(),this.mimicing&&Ext.get(Ext.isIE&&!Ext.isIE8?document.body:document).un("mousedown",this.mimicBlur,this),Ext.form.TriggerField.superclass.onDestroy.call(this)},triggerBlur:function(){this.mimicing=!1,Ext.get(Ext.isIE&&!Ext.isIE8?document.body:document).un("mousedown",this.mimicBlur,this),this.monitorTab&&this.el&&this.el.un("keydown",this.checkTab,this),Ext.form.TriggerField.superclass.onBlur.call(this),this.wrap&&this.wrap.removeClass("x-trigger-wrap-focus")}}),Ext.override(Ext.form.Checkbox,{onRender:function(t,e){Ext.form.Checkbox.superclass.onRender.call(this,t,e),void 0!==this.inputValue&&(this.el.dom.value=this.inputValue),this.el.addClass("x-hidden"),this.innerWrap=this.el.wrap({tabIndex:this.tabIndex,cls:this.baseCls+"-wrap-inner"}),this.wrap=this.innerWrap.wrap({cls:this.baseCls+"-wrap "+(this.wrapCls?this.wrapCls:"")}),this.boxLabel&&(this.labelEl=this.innerWrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})),this.imageEl=this.innerWrap.createChild({tag:"div",cls:this.baseCls},this.el),this.checked?this.setValue(!0):this.checked=this.el.dom.checked,this.originalValue=this.checked}}),function(){var t=function(){var t=document.body||document.getElementsByTagName("body")[0];return!!t&&(Ext.isIE11?t.className+=" ext-ie11":Ext.isGecko10plus&&(t.className+=" ext-gecko10plus"),Ext.isMSEdge&&(t.className+=" ext-msedge"),!0)};t()||Ext.onReady(t)}(),Ext.Element.prototype.selectable=function(){this.dom.unselectable="off",this.removeAllListeners(),this.applyStyles("-moz-user-select:inherit;-khtml-user-select:inherit;"),this.removeClass("x-unselectable")},Ext.override(Ext.Window,{mainWrapper:{cls:"x-axi-mainwrapper"},_show:Ext.Window.prototype.show,_hide:Ext.Window.prototype.hide,_afterShow:Ext.Window.prototype.afterShow,_onDestroy:Ext.Window.prototype.onDestroy,onRender:function(t,e){Ext.Window.superclass.onRender.call(this,t,e),this.plain&&this.el.addClass("x-window-plain"),this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"}),this.focusEl.swallowEvent("click",!0),this.proxy=this.el.createProxy("x-window-proxy"),this.proxy.enableDisplayMode("block"),this.modal&&(this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom),this.mask.enableDisplayMode("block"),this.mask.hide(),this.mask.on("click",this.focus,this)),this.initTools(),this.getEl().on("click",function(t){t.browserEvent.cancelBubble=!0})},show:function(){this._show.apply(this,arguments),this.setupBlur()},afterShow:function(){this._afterShow.apply(this,arguments),this.getEl().applyStyles({top:"0",bottom:"0",left:"",display:""})},hide:function(){this._hide.apply(this,arguments),this.setupBlur()},onDestroy:function(){this._onDestroy.apply(this,arguments),this.setupBlur()},setupBlur:function(){var t=this.manager.getBy(function(t){return!!t.isVisible()});if(!t.length)return this.clearBlur();Ext.getBody().addClass("x-body-masked"),t[0].el.removeClass("x-axi-blur-mask"),t[0].modal&&t[0].mask&&t[0].mask.addClass("x-axi-window-mask-level"+(t.length-1));for(var e=1;e<t.length;++e)t[e].el.addClass("x-axi-blur-mask"),t[e].modal&&t[e].mask&&t[e].mask.addClass("x-axi-window-mask-level"+(t.length-e-1))},clearBlur:function(){Ext.getBody().removeClass("x-body-masked")}}),Ext.lib.Ajax.createResponseObject=function(t,e){var i={},s={};try{for(var a=t.conn.getAllResponseHeaders(),l=a.split("\n"),o=0;o<l.length;o++){var r=l[o].indexOf(":");if(-1!=r){var h=l[o].substring(0,r).toLowerCase();s[h]=l[o].substring(r+2)}}}catch(t){}return i.tId=t.tId,i.status=t.conn.status,i.statusText=t.conn.statusText,i.getResponseHeader=function(t){return s[t.toLowerCase()]},i.getAllResponseHeaders=function(){return a},i.responseText=t.conn.responseText,i.responseXML=t.conn.responseXML,void 0!==typeof e&&(i.argument=e),i},Ext.override(Ext.form.TextArea,{placeholderText:"",onRender:function(t,e){this.el||(this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off",placeholder:this.placeholderText}),Ext.form.TextArea.superclass.onRender.call(this,t,e),this.grow&&(this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"}),this.preventScrollbars&&this.el.setStyle("overflow","hidden"),this.el.setHeight(this.growMin))}}),Ext.override(Ext.Window,{frame:!1}),Ext.override(Ext.form.DateField,{tt:null,afterRender:function(){Ext.form.DateField.superclass.afterRender.call(this,arguments),this.wrap&&this.wrap.addClass("x-axi-datefield-wrap")},setValue:function(t){Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(t))),this.initTT()},initTT:function(){var t=this.getValue(),e=t&&t.getTTDate(),i=this.getEl();if(e&&i){var s=e.preferred+"<br>"+e.gregorian;if(this.tt)this.tt.setTitle(s);else{var a="";i.parent(".x-window")&&(a+=" x-axi-white-tooltip"),this.tt=new Axi.ToolTip({showDelay:500,target:i,cls:"x-axi-clear-tips-window x-axi-arrow-tooltip x-axi-toolbar-button-tooltip x-axi-persian-tooltip"+a,align:"b",title:s,offset:[0,-10]})}}}}),Ext.override(Ext.form.TimeField,{afterRender:function(){Ext.form.TimeField.superclass.afterRender.call(this,arguments),this.wrap&&this.wrap.addClass("x-axi-timefield-wrap")}}),Ext.override(Ext.DatePicker,{initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this),"persian"===Axi.AccountInfo.webmailData.calendarType&&(this.monthNames=Date.Persian.getMonthNames()),this.value=this.value?this.value.clearTime():(new Date).clearTime(),this.addEvents("select"),this.handler&&this.on("select",this.handler,this.scope||this),this.initDisabledDays()},update:function(t,e){var i=this.activeDate,s=this.isVisible();if(this.activeDate=t,!e&&i&&this.el){var a=t.getTime();if(i.getMonth()==t.getMonth()&&i.getFullYear()==t.getFullYear())return this.cells.removeClass("x-date-selected"),void this.cells.each(function(t){if(t.dom.firstChild.dateValue==a)return t.addClass("x-date-selected"),s&&setTimeout(function(){try{t.dom.firstChild.focus()}catch(t){}},50),!1})}var l=t.getDaysInMonth(),o=t.getFirstDateOfMonth().getDay()-this.startDay;o<0&&(o+=7);var r=t.add("mo",-1),h=r.getDaysInMonth()-o,n=r.add("d",h-r.getDate()).clearTime();n.restoreCalendarType();var d=this.cells.elements,c=this.textNodes;l+=o;var p=(new Date).clearTime().getTime(),x=t.clearTime().getTime(),m=this.minDate?this.minDate.clearTime():Number.NEGATIVE_INFINITY,u=this.maxDate?this.maxDate.clearTime():Number.POSITIVE_INFINITY,g=this.disabledDatesRE,f=this.disabledDatesText,E=!!this.disabledDays&&this.disabledDays.join(""),b=this.disabledDaysText,y=this.format;if(this.showToday){var v=(new Date).clearTime();v.restoreCalendarType();var w=v<m||v>u||g&&y&&g.test(v.dateFormat(y))||E&&-1!=E.indexOf(v.getDay());this.disabled||(this.todayBtn.setDisabled(w),this.todayKeyListener[w?"disable":"enable"]())}for(var C=function(t,e){e.title="";var i=n.getTime();if(e.firstChild.dateValue=i,i==p&&(e.className+=" x-date-today",e.title=t.todayText),i==x&&(e.className+=" x-date-selected",s&&setTimeout(function(){try{e.firstChild.focus()}catch(t){}},50)),i<m)return e.className=" x-date-disabled",void(e.title=t.minText);if(i>u)return e.className=" x-date-disabled",void(e.title=t.maxText);if(E&&-1!=E.indexOf(n.getDay())&&(e.title=b,e.className=" x-date-disabled"),g&&y){var a=n.dateFormat(y);g.test(a)&&(e.title=f.replace("%0",a),e.className=" x-date-disabled")}},T=0;T<o;T++)c[T].innerHTML=++h,n.setDate(n.getDate()+1),d[T].className="x-date-prevday",C(this,d[T]);for(;T<l;T++){var D=T-o+1;c[T].innerHTML=D,n.setDate(n.getDate()+1),d[T].className="x-date-active",C(this,d[T])}for(var k=0;T<42;T++)c[T].innerHTML=++k,n.setDate(n.getDate()+1),d[T].className="x-date-nextday",C(this,d[T]);if(this.mbtn.setText(this.monthNames[t.getMonth()]+" "+t.getFullYear()),!this.internalRender){var S=this.el.dom.firstChild,M=S.offsetWidth;this.el.setWidth(M+this.el.getBorderWidth("lr")),Ext.fly(S).setWidth(M),this.internalRender=!0,Ext.isOpera&&!this.secondPass&&(S.rows[0].cells[1].style.width=M-(S.rows[0].cells[0].offsetWidth+S.rows[0].cells[2].offsetWidth)+"px",this.secondPass=!0,this.update.defer(10,this,[t]))}this.fireEvent("update")},onMonthClick:function(t,e){var i=Axi.AccountInfo.webmailData.calendarType;t.stopEvent();var s,a=new Ext.Element(e);a.is("button.x-date-mp-cancel")?this.hideMonthPicker():a.is("button.x-date-mp-ok")?(this.update(Date.getGregorianDate(i,this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker()):(s=a.up("td.x-date-mp-month",2))?(this.mpMonths.removeClass("x-date-mp-sel"),s.addClass("x-date-mp-sel"),this.mpSelMonth=s.dom.xmonth):(s=a.up("td.x-date-mp-year",2))?(this.mpYears.removeClass("x-date-mp-sel"),s.addClass("x-date-mp-sel"),this.mpSelYear=s.dom.xyear):a.is("a.x-date-mp-prev")?this.updateMPYear(this.mpyear-10):a.is("a.x-date-mp-next")&&this.updateMPYear(this.mpyear+10)},onMonthDblClick:function(t,e){var i=Axi.AccountInfo.webmailData.calendarType;t.stopEvent();var s,a=new Ext.Element(e);(s=a.up("td.x-date-mp-month",2))?(this.update(Date.getGregorianDate(i,this.mpSelYear,s.dom.xmonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker()):(s=a.up("td.x-date-mp-year",2))&&(this.update(Date.getGregorianDate(i,s.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker())}}),Ext.override(Ext.layout.FormLayout,{setContainer:function(t){if(Ext.layout.FormLayout.superclass.setContainer.call(this,t),t.labelAlign&&t.addClass("x-form-label-"+t.labelAlign),t.hideLabels)this.labelStyle="display: none",this.labelAdjust=0;else{if(this.labelSeparator=t.labelSeparator||this.labelSeparator,t.labelWidth=t.labelWidth||100,"number"==typeof t.labelWidth){var e="number"==typeof t.labelPad?t.labelPad:5;this.labelAdjust=t.labelWidth+e,this.labelStyle="width:"+t.labelWidth+"px;"}"top"==t.labelAlign&&(this.labelStyle="width:auto;",this.labelAdjust=0)}if(!this.fieldTpl){var i=new Ext.Template('<div class="x-form-item {5}" tabIndex="-1">','<label for="{0}" style="{2}" class="x-form-item-label">{1}{4}</label>','<div class="x-form-element" id="x-form-el-{0}" style="{3}">','</div><div class="{6}"></div>',"</div>");i.disableFormats=!0,i.compile(),Ext.layout.FormLayout.prototype.fieldTpl=i}},renderItem:function(t,e,i){if(t&&!t.rendered&&t.isFormField&&"hidden"!=t.inputType){var s=[t.id,t.fieldLabel,this.getLabelStyle(t.labelStyle),this.elementStyle||"",void 0===t.labelSeparator?this.labelSeparator:t.labelSeparator,(t.itemCls||this.container.itemCls||"")+(t.hideLabel?" x-hide-label":""),t.clearCls||"x-form-clear-left"];"number"==typeof e&&(e=i.dom.childNodes[e]||null),e?this.fieldTpl.insertBefore(e,s):this.fieldTpl.append(i,s),t.render("x-form-el-"+t.id)}else Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}}),Ext.override(Ext.Button,{simpleTemplate:!1,onRender:function(t,e){this.template||(this.simpleTemplate?(Ext.Button.buttonSimpleTemplate||(Ext.Button.buttonSimpleTemplate=new Ext.Template('<div class="x-btn-wrap"><button class="x-btn-text" type="{1}">{0}</button></div>')),this.template=Ext.Button.buttonSimpleTemplate):(Ext.Button.buttonTemplate||(Ext.Button.buttonTemplate=new Ext.Template('<table border="0" cellpadding="0" cellspacing="0" class="x-btn-wrap"><tbody><tr>','   <td class="x-btn-left"><i>&#160;</i></td><td class="x-btn-center"><em unselectable="on"><button class="x-btn-text" type="{1}">{0}</button></em></td><td class="x-btn-right"><i>&#160;</i></td>',"</tr></tbody></table>")),this.template=Ext.Button.buttonTemplate));var i,s=[this.text||"&#160;",this.type];i=e?this.template.insertBefore(e,s,!0):this.template.append(t,s,!0);var a=this.btnEl=i.child(this.buttonSelector);a.on("focus",this.onFocus,this),a.on("blur",this.onBlur,this),this.initButtonEl(i,a),this.menu&&this.el.child(this.menuClassTarget).addClass("x-btn-with-menu"),Ext.ButtonToggleMgr.register(this)}}),Ext.override(Ext.form.FieldSet,{labelCls:"",onRender:function(t,e){if(this.el||(this.el=document.createElement("div"),this.el.id=this.id,(this.title||this.header||this.checkboxToggle)&&(this.el.appendChild(document.createElement("label")).className="x-fieldset-header "+this.labelCls)),Ext.form.FieldSet.superclass.onRender.call(this,t,e),this.checkboxToggle){var i="object"==typeof this.checkboxToggle?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(i),this.checkbox.dom.checked=!this.collapsed,this.checkbox.on("click",this.onCheckClick,this)}}}),Ext.override(Ext.Slider,{onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{cls:"x-slider-thumb"},{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}},Ext.Slider.superclass.onRender.apply(this,arguments),this.endEl=this.el.first(),this.innerEl=this.endEl.first(),this.thumb=this.innerEl.first(),this.halfThumb=Math.floor((this.vertical?this.thumb.getHeight():this.thumb.getWidth())/2),this.focusEl=this.thumb.next(),this.initEvents()}}),Ext.override(Ext.ProgressBar,{onRender:function(t,e){Ext.ProgressBar.superclass.onRender.call(this,t,e);var i=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">',"</div>","</div>",'<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>");this.el=e?i.insertBefore(e,{cls:this.baseCls},!0):i.append(t,{cls:this.baseCls},!0),this.id&&(this.el.dom.id=this.id);var s=this.el.dom.firstChild;this.progressBar=Ext.get(s.firstChild),this.textEl?(this.textEl=Ext.get(this.textEl),delete this.textTopEl):(this.textTopEl=Ext.get(this.el.dom.childNodes[1]),this.textTopEl.setStyle("z-index",99).addClass("x-hidden"),this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild]),this.textEl.setWidth(s.offsetWidth)),this.progressBar.setHeight(s.offsetHeight)}}),Ext.override(Ext.layout.ColumnLayout,{onLayout:function(t,e){var i,s,a=t.items.items,l=a.length;this.innerCt||(e.addClass("x-column-layout-ct"),this.innerCt=e.createChild({cls:"x-column-inner"}),this.innerCt.createChild({cls:"x-clear"})),this.renderAll(t,this.innerCt);var o=Ext.isIE11&&e.dom!=Ext.getBody().dom?e.getStyleSize():e.getViewSize();if(!(o.width<1&&o.height<1)){var r=o.width-e.getPadding("lr")-this.scrollOffset,h=(o.height,e.getPadding("tb"),r);for(this.innerCt.setWidth(r),s=0;s<l;s++)i=a[s],i.columnWidth||(h-=i.getSize().width+i.getEl().getMargins("lr"));for(h=h<0?0:h,s=0;s<l;s++)i=a[s],i.columnWidth&&i.setSize(Math.floor(i.columnWidth*h)-i.getEl().getMargins("lr"))}}}),function(){var t=Ext.dd.StatusProxy.prototype;Ext.dd.StatusProxy=function(t){Ext.apply(this,t),this.id=this.id||Ext.id(),this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:this.proxyCls+" "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!t||!1!==t.shadow}),this.ghost=Ext.get(this.el.dom.childNodes[1]),this.dropStatus=this.dropNotAllowed},Ext.dd.StatusProxy.prototype=t,Ext.override(Ext.dd.StatusProxy,{proxyCls:"x-dd-drag-proxy",reset:function(t){this.el.dom.className=this.proxyCls+" "+this.dropNotAllowed,this.dropStatus=this.dropNotAllowed,t&&this.ghost.update("")}})}(),Ext.override(Ext.Panel,{mainWrapper:null,mainWrapperEl:null,onRender:function(t,e){if(Ext.Panel.superclass.onRender.call(this,t,e),this.createClasses(),this.el){this.el.addClass(this.baseCls),this.header=this.el.down("."+this.headerCls),this.bwrap=this.el.down("."+this.bwrapCls);var i=this.bwrap?this.bwrap:this.el;this.tbar=i.down("."+this.tbarCls),this.body=i.down("."+this.bodyCls),this.bbar=i.down("."+this.bbarCls),this.footer=i.down("."+this.footerCls),this.fromMarkup=!0}else this.el=t.createChild({id:this.id,cls:this.baseCls},e);var s=this.el,a=s.dom;if(this.cls&&this.el.addClass(this.cls),this.buttons&&(this.elements+=",footer"),this.mainWrapper&&(this.mainWrapperEl=this.el.createChild({cls:this.mainWrapper.cls}),s=this.mainWrapperEl,a=s.dom),this.frame){s.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls)),this.createElement("header",a.firstChild.firstChild.firstChild),this.createElement("bwrap",a);var l=this.bwrap.dom,o=a.childNodes[1],r=a.childNodes[2];l.appendChild(o),l.appendChild(r);var h=l.firstChild.firstChild.firstChild;this.createElement("tbar",h),this.createElement("body",h),this.createElement("bbar",h),this.createElement("footer",l.lastChild.firstChild.firstChild),this.footer||(this.bwrap.dom.lastChild.className+=" x-panel-nofooter")}else{this.createElement("header",a),this.createElement("bwrap",a);var l=this.bwrap.dom;this.createElement("tbar",l),this.createElement("body",l),this.createElement("bbar",l),this.createElement("footer",l),this.header||(this.body.addClass(this.bodyCls+"-noheader"),this.tbar&&this.tbar.addClass(this.tbarCls+"-noheader"))}if(!1===this.border&&(this.el.addClass(this.baseCls+"-noborder"),this.body.addClass(this.bodyCls+"-noborder"),this.header&&this.header.addClass(this.headerCls+"-noborder"),this.footer&&this.footer.addClass(this.footerCls+"-noborder"),this.tbar&&this.tbar.addClass(this.tbarCls+"-noborder"),this.bbar&&this.bbar.addClass(this.bbarCls+"-noborder")),!1===this.bodyBorder&&this.body.addClass(this.bodyCls+"-noborder"),this.bwrap.enableDisplayMode("block"),this.header&&(this.header.unselectable(),this.headerAsText&&(this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>",this.iconCls&&this.setIconClass(this.iconCls))),this.floating&&this.makeFloating(this.floating),this.collapsible&&(this.tools=this.tools?this.tools.slice(0):[],this.hideCollapseTool||this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this}),this.titleCollapse&&this.header&&(this.header.on("click",this.toggleCollapse,this),this.header.setStyle("cursor","pointer"))),this.tools){var n=this.tools;this.tools={},this.addTool.apply(this,n)}else this.tools={};if(this.buttons&&this.buttons.length>0)for(var d=this.footer.createChild({cls:"x-panel-btns-ct",cn:{cls:"x-panel-btns x-panel-btns-"+this.buttonAlign,html:'<table cellspacing="0"><tbody><tr></tr></tbody></table><div class="x-clear"></div>'}},null,!0),c=d.getElementsByTagName("tr")[0],p=0,x=this.buttons.length;p<x;p++){var m=this.buttons[p],u=document.createElement("td");u.className="x-panel-btn-td",m.render(c.appendChild(u))}this.tbar&&this.topToolbar&&(Ext.isArray(this.topToolbar)&&(this.topToolbar=new Ext.Toolbar(this.topToolbar)),this.topToolbar.render(this.tbar),this.topToolbar.ownerCt=this),this.bbar&&this.bottomToolbar&&(Ext.isArray(this.bottomToolbar)&&(this.bottomToolbar=new Ext.Toolbar(this.bottomToolbar)),this.bottomToolbar.render(this.bbar),this.bottomToolbar.ownerCt=this)}});